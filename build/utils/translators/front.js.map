{"version":3,"sources":["utils/translators/front.ts"],"names":[],"mappings":"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","file":"front.js","sourcesContent":["/*\n Copyright 2016-2017 Resin.io\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\nimport * as Promise from 'bluebird';\nimport { Conversation, Front } from 'front-sdk';\nimport * as _ from 'lodash';\nimport * as request from 'request-promise';\nimport { FrontConnectionDetails, FrontEmitContext, FrontEvent } from '../../services/front-types';\nimport {  MessageContext, MessageEvent, TransmitContext } from '../../services/messenger-types';\nimport { DataHub } from '../datahubs/datahub';\nimport * as Translator from './translator';\n\nexport class FrontTranslator implements Translator.Translator {\n\t/** Underlying SDK object to query for data */\n\tprivate session: Front;\n\tprivate hub: DataHub;\n\t// #200: requests that rely on this to be migrated to Front SDK\n\tprivate token: string;\n\tprivate channelPerInbox: {\n\t\t[inbox: string]: string;\n\t};\n\n\tconstructor(data: FrontConnectionDetails, hub: DataHub) {\n\t\tthis.hub = hub;\n\t\tthis.session = new Front(data.token);\n\t\tthis.token = data.token;\n\t\tthis.channelPerInbox = data.channelPerInbox || {};\n\t}\n\n\t/**\n\t * Translate the provided data, enqueued by the service, into a message context.\n\t * @param event  Data in the form raw to the service.\n\t */\n\tpublic eventIntoMessage(event: FrontEvent): Promise<MessageEvent> {\n\t\t// Calculate common request details once\n\t\tconst getGeneric = {\n\t\t\theaders: {\n\t\t\t\tauthorization: `Bearer ${this.token}`\n\t\t\t},\n\t\t\tjson: true,\n\t\t\tmethod: 'GET',\n\t\t\turi: '', // Will be over-written\n\t\t};\n\t\t// Make specific forms of the request object for further details\n\t\tconst getEvent = _.cloneDeep(getGeneric);\n\t\tgetEvent.uri = `https://api2.frontapp.com/events/${event.rawEvent.id}`;\n\t\tconst getInboxes = _.cloneDeep(getGeneric);\n\t\tgetInboxes.uri = `https://api2.frontapp.com/conversations/${event.rawEvent.conversation.id}/inboxes`;\n\t\tconst getMessages = _.cloneDeep(getGeneric);\n\t\tgetMessages.uri = `https://api2.frontapp.com/conversations/${event.rawEvent.conversation.id}/messages`;\n\t\tconst getComments = _.cloneDeep(getGeneric);\n\t\tgetComments.uri = `https://api2.frontapp.com/conversations/${event.rawEvent.conversation.id}/comments`;\n\t\t// Gather further details of the enqueued event\n\t\treturn Promise.props({\n\t\t\tcomments: request(getComments),\n\t\t\tevent: request(getEvent),\n\t\t\tinboxes: request(getInboxes),\n\t\t\tmessages: request(getMessages),\n\t\t})\n\t\t.then((details: { comments: any, event: any, inboxes: any, messages: any }) => {\n\t\t\t// Pre-calculate a couple of values, to save line width\n\t\t\tconst message = details.event.target.data;\n\t\t\tconst first = details.comments._results.length + details.messages._results.length === 1;\n\t\t\tconst metadata = Translator.extractMetadata(message.text || message.body, 'emoji');\n\t\t\t// Attempt to find the author of a message from the various places front might store it\n\t\t\tlet author = 'Unknown';\n\t\t\tif (message.author) {\n\t\t\t\tauthor = message.author.username;\n\t\t\t} else {\n\t\t\t\tfor (const recipient of message.recipients) {\n\t\t\t\t\tif (recipient.role === 'from') {\n\t\t\t\t\t\tauthor = recipient.handle;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Return the generic form of this event\n\t\t\tconst rawEvent: MessageContext = {\n\t\t\t\tdetails: {\n\t\t\t\t\t// action: MessageAction.Create,\n\t\t\t\t\t// first,\n\t\t\t\t\tgenesis: metadata.genesis || event.source,\n\t\t\t\t\thidden: first ? metadata.hidden : details.event.type === 'comment',\n\t\t\t\t\ttext: metadata.content,\n\t\t\t\t\ttitle: details.event.conversation.subject,\n\t\t\t\t},\n\t\t\t\tsource: {\n\t\t\t\t\tservice: event.source,\n\t\t\t\t\tflow: details.inboxes._results[0].id,\n\t\t\t\t\tmessage: message.id,\n\t\t\t\t\tthread: details.event.conversation.id,\n\t\t\t\t\turl: `https://app.frontapp.com/open/${details.event.conversation.id}`,\n\t\t\t\t\tuser: author,\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tcookedEvent: {\n\t\t\t\t\t// TODO: This to translate event.cookedEvent.type\n\t\t\t\t\tcontext: `${event.source}.${event.cookedEvent.context}`,\n\t\t\t\t\tevent: 'message',\n\t\t\t\t},\n\t\t\t\trawEvent,\n\t\t\t\tsource: 'messenger',\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Translate the provided message context into an emit context.\n\t * @param message  Standard form of the message.\n\t */\n\tpublic messageIntoEmitCreateMessage(message: TransmitContext): Promise<FrontEmitContext> {\n\t\t// Attempt to find the thread ID to know if this is a new conversation or not\n\t\tconst conversationId = message.target.thread;\n\t\tif (!conversationId) {\n\t\t\t// Find the title and user ID for the event\n\t\t\tconst subject = message.details.title;\n\t\t\tif (!subject) {\n\t\t\t\tthrow new Error('Cannot create Front Conversation without a title');\n\t\t\t}\n\t\t\treturn this.fetchUserId(message.target.user).then((userId) => {\n\t\t\t\t// The specific form that may be emitted\n\t\t\t\treturn {\n\t\t\t\t\taction: 'send',\n\t\t\t\t\tobjectType: 'message',\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tauthor_id: userId,\n\t\t\t\t\t\tbody: `${message.details.text}<hr/><br/>${Translator.stringifyMetadata(message, 'plaintext')}`,\n\t\t\t\t\t\t// Find the relevant channel for the inbox\n\t\t\t\t\t\tchannel_id: this.channelPerInbox[message.target.flow],\n\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\tthread_ref: message.source.thread,\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tarchive: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsender: {\n\t\t\t\t\t\t\thandle: message.target.user,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsubject,\n\t\t\t\t\t\tto: [message.source.user],\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\treturn Promise.props({\n\t\t\tconversation: this.session.conversation.get({conversation_id: conversationId}),\n\t\t\tuserId: this.fetchUserId(message.target.user)\n\t\t}).then((details: { conversation: Conversation, userId: string }) => {\n\t\t\tif (message.details.hidden) {\n\t\t\t\treturn {\n\t\t\t\t\taction: 'create',\n\t\t\t\t\tobjectType: 'comment',\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tauthor_id: details.userId,\n\t\t\t\t\t\tbody: `${message.details.text}\\n\\n---\\n${Translator.stringifyMetadata(message, 'plaintext')}`,\n\t\t\t\t\t\tconversation_id: conversationId,\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\taction: 'reply',\n\t\t\t\tobjectType: 'message',\n\t\t\t\tpayload: {\n\t\t\t\t\tauthor_id: details.userId,\n\t\t\t\t\tbody: `${message.details.text}<hr/><br/>${Translator.stringifyMetadata(message, 'plaintext')}`,\n\t\t\t\t\tconversation_id: conversationId,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tarchive: false,\n\t\t\t\t\t},\n\t\t\t\t\tsubject: details.conversation.subject,\n\t\t\t\t\ttype: message.details.hidden ? 'comment' : 'message',\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Translate the provided message context into an emit context that will retrieve the thread history.\n\t * @param message     Standard form of the message.\n\t * @param _shortlist  *DO NOT RELY ON THIS BEING USED.*  Purely optional optimisation.\n\t *                    If the endpoint supports it then it may use this to shortlist the responses.\n\t */\n\tpublic messageIntoEmitReadThread(message: MessageContext, _shortlist?: RegExp): Promise<FrontEmitContext> {\n\t\treturn Promise.resolve({\n\t\t\taction: 'listComments',\n\t\t\tobjectType: 'conversation',\n\t\t\tpayload: {\n\t\t\t\tconversation_id: message.source.thread,\n\t\t\t},\n\t\t});\n\t}\n\n\t/**\n\t * Translate the provided generic name for an event into the service events to listen to.\n\t * @param name  Generic name for an event.\n\t */\n\tpublic eventNameIntoTriggers(name: string): string[] {\n\t\tconst equivalents: {[key: string]: string[]} = {\n\t\t\tmessage: ['out_reply'],\n\t\t};\n\t\treturn equivalents[name];\n\t}\n\n\t/**\n\t * Returns an array of all the service events that may be translated.\n\t */\n\tpublic getAllTriggers(): string[] {\n\t\treturn ['out_reply'];\n\t}\n\n\t/**\n\t * Find the ID of a user specified by username.\n\t * @param username  Target username to search for.\n\t * @returns         Promise that resolves to the user id.\n\t */\n\tprivate fetchUserId = (username: string): Promise<string|undefined> => {\n\t\t// Request a list of all teammates\n\t\tconst getTeammates = {\n\t\t\theaders: {\n\t\t\t\tauthorization: `Bearer ${this.token}`\n\t\t\t},\n\t\t\tjson: true,\n\t\t\tmethod: 'GET',\n\t\t\turi: 'https://api2.frontapp.com/teammates',\n\t\t};\n\t\treturn request(getTeammates).then((teammates: {_results: Array<{username: string, id: string}>}) => {\n\t\t\t// Resolve to the ID of the first matching teammate\n\t\t\tconst teammate = _.find(teammates._results, (eachTeammate) => {\n\t\t\t\treturn eachTeammate.username === username;\n\t\t\t});\n\t\t\tif (teammate) {\n\t\t\t\treturn teammate.id;\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function createTranslator(data: FrontConnectionDetails, hub: DataHub): Translator.Translator {\n\treturn new FrontTranslator(data, hub);\n}\n"],"sourceRoot":"../../../lib"}
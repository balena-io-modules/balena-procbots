{"version":3,"sources":["RASP/services/listener-method.ts"],"names":[],"mappings":";;AAAA,4BAA4B;AAM5B;IACW,MAAM,CAAC,mBAAmB,CAAC,GAA0B,EAAE,GAAe;QAEzE,EAAE,CAAC,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAC5B,MAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;QACtF,CAAC;QACD,GAAG,CAAC,qBAAqB,GAAG;YACxB,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,IAAI;SACtB,CAAC;IACN,CAAC;IAEM,MAAM,CAAC,kBAAkB,CAAC,IAA2B,EAAE,GAAe;QAEzE,EAAE,CAAC,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAC5B,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;gBACvB,GAAG,CAAC,eAAe,GAAG,EAAE,CAAC;YAC7B,CAAC;YAED,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACxD,CAAC;QACD,GAAG,CAAC,qBAAqB,GAAG,SAAS,CAAC;IAC1C,CAAC;CACJ;AAtBD,0DAsBC;AAED,4BAAmC,QAAyB,EAAE,UAAsB;IAChF,QAAQ,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,uBAAuB,CAAC,mBAAmB,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;IACxG,QAAQ,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,uBAAuB,CAAC,kBAAkB,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;AAC1G,CAAC;AAHD,gDAGC","file":"listener-method.js","sourcesContent":["import * as _ from 'lodash';\nimport { ListenerMethodContext } from '../Antlr/RASPParser';\nimport { BotDetails, ListenerMethod } from '../parser-types';\nimport { DebugExpression } from '../helpers';\nimport { ExtRASPListener } from '../parser';\n\nexport class ListenerMethodGenerator {\n    public static enterListenerMethod(ctx: ListenerMethodContext, bot: BotDetails): void {\n        // New ListenerMethod\n        if (bot.currentListenerMethod) {\n            throw new Error('There is already a event registration being constructed, error');\n        }\n        bot.currentListenerMethod = {\n            name: ctx.ID().text\n        };\n    }\n\n    public static exitListenerMethod(_ctx: ListenerMethodContext, bot: BotDetails): void {\n        // Push this into the events registrations.\n        if (bot.currentListenerMethod) {\n            if (!bot.listenerMethods) {\n                bot.listenerMethods = [];\n            }\n            // Push onto the bot.\n            bot.listenerMethods.push(bot.currentListenerMethod);\n        }\n        bot.currentListenerMethod = undefined;\n    }\n}\n\nexport function addListenerMethods(listener: ExtRASPListener, definition: BotDetails): void {\n    listener['enterListenerMethod'] = _.partial(ListenerMethodGenerator.enterListenerMethod, _, definition);\n    listener['exitListenerMethod'] = _.partial(ListenerMethodGenerator.exitListenerMethod, _, definition);\n}"],"sourceRoot":"../../../lib"}
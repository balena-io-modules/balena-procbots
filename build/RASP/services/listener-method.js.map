{"version":3,"sources":["RASP/services/listener-method.ts"],"names":[],"mappings":";;AAAA,4BAA4B;AAM5B;IACQ,MAAM,CAAC,mBAAmB,CAAC,GAA0B,EAAE,GAAe;QAE5E,EAAE,CAAC,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAC/B,MAAM,IAAI,KAAK,CAAC,gEAAgE,CAAC,CAAC;QACnF,CAAC;QACD,GAAG,CAAC,qBAAqB,GAAG;YAC3B,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,IAAI;SACnB,CAAC;IACH,CAAC;IAEM,MAAM,CAAC,kBAAkB,CAAC,IAA2B,EAAE,GAAe;QAE5E,EAAE,CAAC,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC1B,GAAG,CAAC,eAAe,GAAG,EAAE,CAAC;YAC1B,CAAC;YAED,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACrD,CAAC;QACD,GAAG,CAAC,qBAAqB,GAAG,SAAS,CAAC;IACvC,CAAC;CACD;AAtBD,0DAsBC;AAED,4BAAmC,QAAyB,EAAE,UAAsB;IACnF,QAAQ,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,uBAAuB,CAAC,mBAAmB,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;IACxG,QAAQ,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,uBAAuB,CAAC,kBAAkB,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;AACvG,CAAC;AAHD,gDAGC","file":"listener-method.js","sourcesContent":["import * as _ from 'lodash';\nimport { ListenerMethodContext } from '../Antlr/RASPParser';\nimport { BotDetails, ListenerMethod } from '../parser-types';\nimport { DebugExpression } from '../helpers';\nimport { ExtRASPListener } from '../parser';\n\nexport class ListenerMethodGenerator {\n\tpublic static enterListenerMethod(ctx: ListenerMethodContext, bot: BotDetails): void {\n\t\t// New ListenerMethod\n\t\tif (bot.currentListenerMethod) {\n\t\t\tthrow new Error('There is already a event registration being constructed, error');\n\t\t}\n\t\tbot.currentListenerMethod = {\n\t\t\tname: ctx.ID().text\n\t\t};\n\t}\n\n\tpublic static exitListenerMethod(_ctx: ListenerMethodContext, bot: BotDetails): void {\n\t\t// Push this into the events registrations.\n\t\tif (bot.currentListenerMethod) {\n\t\t\tif (!bot.listenerMethods) {\n\t\t\t\tbot.listenerMethods = [];\n\t\t\t}\n\t\t\t// Push onto the bot.\n\t\t\tbot.listenerMethods.push(bot.currentListenerMethod);\n\t\t}\n\t\tbot.currentListenerMethod = undefined;\n\t}\n}\n\nexport function addListenerMethods(listener: ExtRASPListener, definition: BotDetails): void {\n\tlistener['enterListenerMethod'] = _.partial(ListenerMethodGenerator.enterListenerMethod, _, definition);\n\tlistener['exitListenerMethod'] = _.partial(ListenerMethodGenerator.exitListenerMethod, _, definition);\n}"],"sourceRoot":"../../../lib"}
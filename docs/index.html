<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Resin ProcBots</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Resin ProcBots</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> Resin ProcBots</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="procbots">procbots</h1>
				<p>Process bots used for automating the development and deployment CI pipeline.</p>
				<p>This README aims to get the reader up to speed with both running and developing ProcBots.</p>
				<h2 id="installation">Installation</h2>
				<p>Run <code>npm install</code> in the root <code>resin-procbots</code> repository.</p>
				<p>ProcBots uses a dynamic loader to execute its Client Bots. The <code>PROCBOT_BOTS_TO_LOAD</code> environment variable needs to be set to a valid ProcBot instance (the name of which corresponds to the bot names in <code>lib/bots</code>, eg. <code>versionbot</code>).</p>
				<p>Other environment variables are required depending on the ProcBot being executed. Please see the section at the bottom of this README which has links to each individual bots own documentation.</p>
				<h3 id="-resin-on-resin-deployment"><code>resin-on-resin</code> Deployment</h3>
				<p>Create new app, add appropriate git remote for resin.io.</p>
				<pre><code><span class="hljs-symbol">gulp</span> <span class="hljs-keyword">build
</span><span class="hljs-symbol">git</span> <span class="hljs-keyword">push </span>resin master
</code></pre><p>Appropriate environment variables are required before execution. See below.</p>
				<h3 id="kubernetes-deployment">Kubernetes Deployment</h3>
				<p>Deploying to a local K8 cluster (or to an already existing environment) requires a bit of implicit knowledge. A framework for doing this within Resin exists. Please speak to DevOps.</p>
				<h3 id="running-locally">Running Locally</h3>
				<pre><code><span class="hljs-attr">PROCBOT_BOTS_TO_LOAD</span>=&lt;name&gt; npm start
</code></pre><p>If the Client Bot listens to an external service (eg. Github, Front, Discourse, etc), then those services should have their webhook endpoints set to your local machine. This can be achieved via a proxy, such as <code>ngrok</code>. For example, the Github ServiceListener for <code>VersionBot</code> listens on port 4567. Running:</p>
				<pre><code>ngrok <span class="hljs-keyword">http</span> <span class="hljs-number">4567</span>
</code></pre><p>Will produce an HTTPS url (eg. <a href="https://12345.ngrok.io">https://12345.ngrok.io</a>) that can then be used as the Github App webhook URL.</p>
				<h2 id="development">Development</h2>
				<p>Developing ProcBots requires some core knowledge of the concepts behind them, see the Architecture document linked to at the bottom of this README for more information.</p>
				<h3 id="security">Security</h3>
				<p>Most Client Bots will require secure keys or tokens to operate. These should be passed as environment variables. This allows ProcBots to:</p>
				<ul>
					<li>Stay open, without the need for any obfuscation or private submodules</li>
					<li>Allow the security to become a deployment environment function</li>
				</ul>
				<p>As the latter changes radically between deployment solutions, this allows the ProcBot framework itself to stay agnostic.</p>
				<h3 id="buildling">Buildling</h3>
				<p>Building tasks are implemented in <a href="http://gulpjs.com/"><code>gulp</code></a>, and these tasks are defined in the <code>gulpfile.js</code> file.</p>
				<p><code>gulp build</code> will:</p>
				<ul>
					<li>lint the codebase</li>
					<li>Transpile the TypeScript source (in <code>lib</code>) into JavaScript (in <code>build</code>), copying any required definitions</li>
					<li>Produce documentation (output to the <code>docs</code> directory as HTML)</li>
				</ul>
				<p>Development itself is agnostic, but currently this repository includes a <code>.vscode</code> directory that has configuration for this editor. This has tasks setup, so buliding from within VSCode will automatically run the <code>gulp</code> tasks and then launch the ProcBots framework.</p>
				<h2 id="contributions">Contributions</h2>
				<p>Whilst this is a <a href="http://resin.io">resin.io</a> project, we welcome any contributions to the ProcBots project, including issue reports, ideas for features, new Client Bots, etc.</p>
				<h2 id="architecture">Architecture</h2>
				<p><a href="https://resin-io-modules.github.io/resin-procbots/media/Architecture/procbot-architecture.md">The full architecture documentation.</a></p>
				<h2 id="versionbot">VersionBot</h2>
				<ul>
					<li><a href="https://resin-io-modules.github.io/resin-procbots/media/VersionBot/versionbot.md">VersionBot HowTo</a></li>
				</ul>
				<h2 id="syncbot">SyncBot</h2>
				<ul>
					<li><a href="https://resin-io-modules.github.io/resin-procbots/media/SyncBot/syncbot-readme.md">SyncBot getting started for users.</a></li>
				</ul>
				<h2 id="keyframebot">KeyframeBot</h2>
				<ul>
					<li><a href="https://resin-io-modules.github.io/resin-procbots/media/KeyframeBot/keyframebot.md">KeyframeBot HowTo</a></li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_app_.html">"app"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_bots_keyframebot_.html">"bots/keyframebot"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_bots_syncbot_.html">"bots/syncbot"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_bots_versionbot_.html">"bots/versionbot"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_framework_procbot_.html">"framework/procbot"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_framework_worker_.html">"framework/worker"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_framework_worker_client_.html">"framework/worker-<wbr>client"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_discourse_.html">"services/discourse"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_errors_context_absent_.html">"services/errors/context-<wbr>absent"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_flowdock_.html">"services/flowdock"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_front_.html">"services/front"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_github_.html">"services/github"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_messenger_.html">"services/messenger"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_messenger_datahubs_datahub_.html">"services/messenger/datahubs/datahub"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_messenger_datahubs_flowdock_.html">"services/messenger/datahubs/flowdock"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_messenger_translators_discourse_.html">"services/messenger/translators/discourse"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_messenger_translators_flowdock_.html">"services/messenger/translators/flowdock"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_messenger_translators_front_.html">"services/messenger/translators/front"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_messenger_translators_translator_.html">"services/messenger/translators/translator"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_services_service_utilities_.html">"services/service-<wbr>utilities"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_utils_environment_.html">"utils/environment"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_utils_logger_.html">"utils/logger"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>